<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
		
<mapper namespace="OrderToVendorProductMapper">

	<resultMap id="orderToVendorProductSelectMap"     type="orderToVendorProduct" >
		<result property="orderToVendorNo"                      column="ORDER_TO_VENDOR_NUMBERING"      jdbcType="VARCHAR"/>
		<result property="productNo"                            column="PRODUCT_NO"           jdbcType="VARCHAR"/>
		<result property="orderCount"                           column="QUANTITY"             jdbcType="VARCHAR"/>
		<result property="orderAmount"                          column="PURCHASE_PRICE"       jdbcType="VARCHAR"/>
		<result property="orderToVendorProductStatusCodeNo"     column="ORDER_VENDOR_PROD_STATUS_CODE"    jdbcType="VARCHAR"/>
		<result property="orderToVendorProductStatusCodeName"   column="ORD_VEN_PROD_STATUS_CODE_NAME"   jdbcType="VARCHAR"/>
		<result property="totalAmount"                          column="AMOUNT"               jdbcType="VARCHAR"/>
	</resultMap>

	<select id="selectOrderToVendorProduct" resultMap="orderToVendorProductSelectMap">
		SELECT ORDER_TO_VENDOR_NUMBERING,
		PRODUCT_NO,
		QUANTITY,
		PURCHASE_PRICE,
		ORDER_VENDOR_PROD_STATUS_CODE,
		ORD_VEN_PROD_STATUS_CODE_NAME,
		AMOUNT

		FROM order_to_vendor_product

	</select>
	
	<update id="modifyOrderToVenItemCode" parameterType="string">
		UPDATE order_to_vendor_product
			<set>
				<if test="orderToVenProductStatusCodeNo == '01'">
				ORDER_VENDOR_PROD_STATUS_CODE = '02'
				</if>
				
			</set>
		WHERE PROD_NO = #{value}
	</update>
	
	

</mapper>